function [sys,x0,str,ts]=Observer1(t,x,u,flag)
switch flag,
case 0,
    [sys,x0,str,ts]=mdlInitializeSizes;
case 1,
    sys=mdlDerivatives(t,x,u);
case 3,
    sys=mdlOutputs(t,x,u);
case {2, 4, 9 }
    sys = [];
otherwise
    error(['Unhandled flag = ',num2str(flag)]);
end
function [sys,x0,str,ts]=mdlInitializeSizes
sizes = simsizes;
sizes.NumContStates  = 18;
sizes.NumDiscStates  = 0;
sizes.NumOutputs     = 18;
sizes.NumInputs      = 18+3;
sizes.DirFeedthrough = 0;
sizes.NumSampleTimes = 1;
sys=simsizes(sizes);
x0  = [1,2,3,-1,-2 1   2 4 6 1 0 1    1 5 2 3 7 6 ];%6个智能体的观测器位置，观测器速度，观测器加速度的初始值
str=[];
ts=[0 0];
function sys=mdlDerivatives(t,x,u)

aij=[0 0 0 0 0 1;
     1 0 0 0 0 0;
     0 1 0 0 0 0;
     0 0 1 0 0 0;
     0 0 0 1 0 0;
     0 0 0 0 1 0];
 
x0=u(1+18);
v0=u(2+18);
u0=u(3+18);

alpha1=0.8;alpha2=0.8;alpha3=1;
beta1=1.2;beta2=1.2;beta3=1.2;
b1=1;b2=0;b3=0;b4=0;b5=1;b6=1;

%观测器位置微分关系
sys(1)=u(1+6)+alpha1*sign(aij(1,1)*(u(1)-u(1))+aij(1,2)*(u(2)-u(1))+aij(1,3)*(u(3)-u(1))+aij(1,4)*(u(4)-u(1))+aij(1,5)*(u(5)-u(1))+aij(1,6)*(u(6)-u(1))+b1*(x0-u(1)))+...
                beta1*sig(aij(1,1)*(u(1)-u(1))+aij(1,2)*(u(2)-u(1))+aij(1,3)*(u(3)-u(1))+aij(1,4)*(u(4)-u(1))+aij(1,5)*(u(5)-u(1))+aij(1,6)*(u(6)-u(1))+b1*(x0-u(1)),2);
sys(2)=u(2+6)+alpha1*sign(aij(2,1)*(u(1)-u(2))+aij(2,2)*(u(2)-u(2))+aij(2,3)*(u(3)-u(2))+aij(2,4)*(u(4)-u(2))+aij(2,5)*(u(5)-u(2))+aij(2,6)*(u(6)-u(2))+b2*(x0-u(2)))+...
                beta1*sig(aij(2,1)*(u(1)-u(2))+aij(2,2)*(u(2)-u(2))+aij(2,3)*(u(3)-u(2))+aij(2,4)*(u(4)-u(2))+aij(2,5)*(u(5)-u(2))+aij(2,6)*(u(6)-u(2))+b2*(x0-u(2)),2);
sys(3)=u(3+6)+alpha1*sign(aij(3,1)*(u(1)-u(3))+aij(3,2)*(u(2)-u(3))+aij(3,3)*(u(3)-u(3))+aij(3,4)*(u(4)-u(3))+aij(3,5)*(u(5)-u(3))+aij(3,6)*(u(6)-u(3))+b3*(x0-u(3)))+...
                beta1*sig(aij(3,1)*(u(1)-u(3))+aij(3,2)*(u(2)-u(3))+aij(3,3)*(u(3)-u(3))+aij(3,4)*(u(4)-u(3))+aij(3,5)*(u(5)-u(3))+aij(3,6)*(u(6)-u(3))+b3*(x0-u(3)),2);
sys(4)=u(4+6)+alpha1*sign(aij(4,1)*(u(1)-u(4))+aij(4,2)*(u(2)-u(4))+aij(4,3)*(u(3)-u(4))+aij(4,4)*(u(4)-u(4))+aij(4,5)*(u(5)-u(4))+aij(4,6)*(u(6)-u(4))+b4*(x0-u(4)))+...
                beta1*sig(aij(4,1)*(u(1)-u(4))+aij(4,2)*(u(2)-u(4))+aij(4,3)*(u(3)-u(4))+aij(4,4)*(u(4)-u(4))+aij(4,5)*(u(5)-u(4))+aij(4,6)*(u(6)-u(4))+b4*(x0-u(4)),2);
sys(5)=u(5+6)+alpha1*sign(aij(5,1)*(u(1)-u(5))+aij(5,2)*(u(2)-u(5))+aij(5,3)*(u(3)-u(5))+aij(5,4)*(u(4)-u(5))+aij(5,5)*(u(5)-u(5))+aij(5,6)*(u(6)-u(5))+b5*(x0-u(5)))+...
                beta1*sig(aij(5,1)*(u(1)-u(5))+aij(5,2)*(u(2)-u(5))+aij(5,3)*(u(3)-u(5))+aij(5,4)*(u(4)-u(5))+aij(5,5)*(u(5)-u(5))+aij(5,6)*(u(6)-u(5))+b5*(x0-u(5)),2);
sys(6)=u(6+6)+alpha1*sign(aij(6,1)*(u(1)-u(6))+aij(6,2)*(u(2)-u(6))+aij(6,3)*(u(3)-u(6))+aij(6,4)*(u(4)-u(6))+aij(6,5)*(u(5)-u(6))+aij(6,6)*(u(6)-u(6))+b6*(x0-u(6)))+...
                beta1*sig(aij(6,1)*(u(1)-u(6))+aij(6,2)*(u(2)-u(6))+aij(6,3)*(u(3)-u(6))+aij(6,4)*(u(4)-u(6))+aij(6,5)*(u(5)-u(6))+aij(6,6)*(u(6)-u(6))+b6*(x0-u(6)),2);  
%观测器速度微分关系          
sys(1+6)=u(1+6+6)+alpha2*sign(aij(1,1)*(u(1+6)-u(1+6))+aij(1,2)*(u(2+6)-u(1+6))+aij(1,3)*(u(3+6)-u(1+6))+aij(1,4)*(u(4+6)-u(1+6))+aij(1,5)*(u(5+6)-u(1+6))+aij(1,6)*(u(6+6)-u(1+6))+b1*(v0-u(1+6)))+...
                    beta2*sig(aij(1,1)*(u(1+6)-u(1+6))+aij(1,2)*(u(2+6)-u(1+6))+aij(1,3)*(u(3+6)-u(1+6))+aij(1,4)*(u(4+6)-u(1+6))+aij(1,5)*(u(5+6)-u(1+6))+aij(1,6)*(u(6+6)-u(1+6))+b1*(v0-u(1+6)),2);
sys(2+6)=u(2+6+6)+alpha2*sign(aij(2,1)*(u(1+6)-u(2+6))+aij(2,2)*(u(2+6)-u(2+6))+aij(2,3)*(u(3+6)-u(2+6))+aij(2,4)*(u(4+6)-u(2+6))+aij(2,5)*(u(5+6)-u(2+6))+aij(2,6)*(u(6+6)-u(2+6))+b2*(v0-u(2+6)))+...
                    beta2*sig(aij(2,1)*(u(1+6)-u(2+6))+aij(2,2)*(u(2+6)-u(2+6))+aij(2,3)*(u(3+6)-u(2+6))+aij(2,4)*(u(4+6)-u(2+6))+aij(2,5)*(u(5+6)-u(2+6))+aij(2,6)*(u(6+6)-u(2+6))+b2*(v0-u(2+6)),2);
sys(3+6)=u(3+6+6)+alpha2*sign(aij(3,1)*(u(1+6)-u(3+6))+aij(3,2)*(u(2+6)-u(3+6))+aij(3,3)*(u(3+6)-u(3+6))+aij(3,4)*(u(4+6)-u(3+6))+aij(3,5)*(u(5+6)-u(3+6))+aij(3,6)*(u(6+6)-u(3+6))+b3*(v0-u(3+6)))+...
                    beta2*sig(aij(3,1)*(u(1+6)-u(3+6))+aij(3,2)*(u(2+6)-u(3+6))+aij(3,3)*(u(3+6)-u(3+6))+aij(3,4)*(u(4+6)-u(3+6))+aij(3,5)*(u(5+6)-u(3+6))+aij(3,6)*(u(6+6)-u(3+6))+b3*(v0-u(3+6)),2);
sys(4+6)=u(4+6+6)+alpha2*sign(aij(4,1)*(u(1+6)-u(4+6))+aij(4,2)*(u(2+6)-u(4+6))+aij(4,3)*(u(3+6)-u(4+6))+aij(4,4)*(u(4+6)-u(4+6))+aij(4,5)*(u(5+6)-u(4+6))+aij(4,6)*(u(6+6)-u(4+6))+b4*(v0-u(4+6)))+...
                    beta2*sig(aij(4,1)*(u(1+6)-u(4+6))+aij(4,2)*(u(2+6)-u(4+6))+aij(4,3)*(u(3+6)-u(4+6))+aij(4,4)*(u(4+6)-u(4+6))+aij(4,5)*(u(5+6)-u(4+6))+aij(4,6)*(u(6+6)-u(4+6))+b4*(v0-u(4+6)),2);
sys(5+6)=u(5+6+6)+alpha2*sign(aij(5,1)*(u(1+6)-u(5+6))+aij(5,2)*(u(2+6)-u(5+6))+aij(5,3)*(u(3+6)-u(5+6))+aij(5,4)*(u(4+6)-u(5+6))+aij(5,5)*(u(5+6)-u(5+6))+aij(5,6)*(u(6+6)-u(5+6))+b5*(v0-u(5+6)))+...
                    beta2*sig(aij(5,1)*(u(1+6)-u(5+6))+aij(5,2)*(u(2+6)-u(5+6))+aij(5,3)*(u(3+6)-u(5+6))+aij(5,4)*(u(4+6)-u(5+6))+aij(5,5)*(u(5+6)-u(5+6))+aij(5,6)*(u(6+6)-u(5+6))+b5*(v0-u(5+6)),2);
sys(6+6)=u(6+6+6)+alpha2*sign(aij(6,1)*(u(1+6)-u(6+6))+aij(6,2)*(u(2+6)-u(6+6))+aij(6,3)*(u(3+6)-u(6+6))+aij(6,4)*(u(4+6)-u(6+6))+aij(6,5)*(u(5+6)-u(6+6))+aij(6,6)*(u(6+6)-u(6+6))+b6*(v0-u(6+6)))+...
                    beta2*sig(aij(6,1)*(u(1+6)-u(6+6))+aij(6,2)*(u(2+6)-u(6+6))+aij(6,3)*(u(3+6)-u(6+6))+aij(6,4)*(u(4+6)-u(6+6))+aij(6,5)*(u(5+6)-u(6+6))+aij(6,6)*(u(6+6)-u(6+6))+b6*(v0-u(6+6)),2); 
%观测器加速度微分关系
sys(1+6+6)=alpha3*sign(aij(1,1)*(u(1+6+6)-u(1+6+6))+aij(1,2)*(u(2+6+6)-u(1+6+6))+aij(1,3)*(u(3+6+6)-u(1+6+6))+aij(1,4)*(u(4+6+6)-u(1+6+6))+aij(1,5)*(u(5+6+6)-u(1+6+6))+aij(1,6)*(u(6+6+6)-u(1+6+6))+b1*(u0-u(1+6+6)))+...
             beta3*sig(aij(1,1)*(u(1+6+6)-u(1+6+6))+aij(1,2)*(u(2+6+6)-u(1+6+6))+aij(1,3)*(u(3+6+6)-u(1+6+6))+aij(1,4)*(u(4+6+6)-u(1+6+6))+aij(1,5)*(u(5+6+6)-u(1+6+6))+aij(1,6)*(u(6+6+6)-u(1+6+6))+b1*(u0-u(1+6+6)),2);
sys(2+6+6)=alpha3*sign(aij(2,1)*(u(1+6+6)-u(2+6+6))+aij(2,2)*(u(2+6+6)-u(2+6+6))+aij(2,3)*(u(3+6+6)-u(2+6+6))+aij(2,4)*(u(4+6+6)-u(2+6+6))+aij(2,5)*(u(5+6+6)-u(2+6+6))+aij(2,6)*(u(6+6+6)-u(2+6+6))+b2*(u0-u(2+6+6)))+...
             beta3*sig(aij(2,1)*(u(1+6+6)-u(2+6+6))+aij(2,2)*(u(2+6+6)-u(2+6+6))+aij(2,3)*(u(3+6+6)-u(2+6+6))+aij(2,4)*(u(4+6+6)-u(2+6+6))+aij(2,5)*(u(5+6+6)-u(2+6+6))+aij(2,6)*(u(6+6+6)-u(2+6+6))+b2*(u0-u(2+6+6)),2);
sys(3+6+6)=alpha3*sign(aij(3,1)*(u(1+6+6)-u(3+6+6))+aij(3,2)*(u(2+6+6)-u(3+6+6))+aij(3,3)*(u(3+6+6)-u(3+6+6))+aij(3,4)*(u(4+6+6)-u(3+6+6))+aij(3,5)*(u(5+6+6)-u(3+6+6))+aij(3,6)*(u(6+6+6)-u(3+6+6))+b3*(u0-u(3+6+6)))+...
             beta3*sig(aij(3,1)*(u(1+6+6)-u(3+6+6))+aij(3,2)*(u(2+6+6)-u(3+6+6))+aij(3,3)*(u(3+6+6)-u(3+6+6))+aij(3,4)*(u(4+6+6)-u(3+6+6))+aij(3,5)*(u(5+6+6)-u(3+6+6))+aij(3,6)*(u(6+6+6)-u(3+6+6))+b3*(u0-u(3+6+6)),2);
sys(4+6+6)=alpha3*sign(aij(4,1)*(u(1+6+6)-u(4+6+6))+aij(4,2)*(u(2+6+6)-u(4+6+6))+aij(4,3)*(u(3+6+6)-u(4+6+6))+aij(4,4)*(u(4+6+6)-u(4+6+6))+aij(4,5)*(u(5+6+6)-u(4+6+6))+aij(4,6)*(u(6+6+6)-u(4+6+6))+b4*(u0-u(4+6+6)))+...
             beta3*sig(aij(4,1)*(u(1+6+6)-u(4+6+6))+aij(4,2)*(u(2+6+6)-u(4+6+6))+aij(4,3)*(u(3+6+6)-u(4+6+6))+aij(4,4)*(u(4+6+6)-u(4+6+6))+aij(4,5)*(u(5+6+6)-u(4+6+6))+aij(4,6)*(u(6+6+6)-u(4+6+6))+b4*(u0-u(4+6+6)),2);
sys(5+6+6)=alpha3*sign(aij(5,1)*(u(1+6+6)-u(5+6+6))+aij(5,2)*(u(2+6+6)-u(5+6+6))+aij(5,3)*(u(3+6+6)-u(5+6+6))+aij(5,4)*(u(4+6+6)-u(5+6+6))+aij(5,5)*(u(5+6+6)-u(5+6+6))+aij(5,6)*(u(6+6+6)-u(5+6+6))+b5*(u0-u(5+6+6)))+...
             beta3*sig(aij(5,1)*(u(1+6+6)-u(5+6+6))+aij(5,2)*(u(2+6+6)-u(5+6+6))+aij(5,3)*(u(3+6+6)-u(5+6+6))+aij(5,4)*(u(4+6+6)-u(5+6+6))+aij(5,5)*(u(5+6+6)-u(5+6+6))+aij(5,6)*(u(6+6+6)-u(5+6+6))+b5*(u0-u(5+6+6)),2);
sys(6+6+6)=alpha3*sign(aij(6,1)*(u(1+6+6)-u(6+6+6))+aij(6,2)*(u(2+6+6)-u(6+6+6))+aij(6,3)*(u(3+6+6)-u(6+6+6))+aij(6,4)*(u(4+6+6)-u(6+6+6))+aij(6,5)*(u(5+6+6)-u(6+6+6))+aij(6,6)*(u(6+6+6)-u(6+6+6))+b6*(u0-u(6+6+6)))+...
             beta3*sig(aij(6,1)*(u(1+6+6)-u(6+6+6))+aij(6,2)*(u(2+6+6)-u(6+6+6))+aij(6,3)*(u(3+6+6)-u(6+6+6))+aij(6,4)*(u(4+6+6)-u(6+6+6))+aij(6,5)*(u(5+6+6)-u(6+6+6))+aij(6,6)*(u(6+6+6)-u(6+6+6))+b6*(u0-u(6+6+6)),2);  

function sys=mdlOutputs(t,x,u)

sys(1)=x(1);%输出智能体1观测器观测的位置
sys(2)=x(2);%输出智能体2观测器观测的位置
sys(3)=x(3);%输出智能体3观测器观测的位置
sys(4)=x(4);%输出智能体4观测器观测的位置
sys(5)=x(5);%输出智能体5观测器观测的位置
sys(6)=x(6);%输出智能体6观测器观测的位置

sys(1+6)=x(1+6);%输出智能体1观测器观测的速度
sys(2+6)=x(2+6);%输出智能体2观测器观测的速度
sys(3+6)=x(3+6);%输出智能体3观测器观测的速度
sys(4+6)=x(4+6);%输出智能体4观测器观测的速度
sys(5+6)=x(5+6);%输出智能体5观测器观测的速度
sys(6+6)=x(6+6);%输出智能体5观测器观测的速度

sys(1+12)=x(1+12);%输出智能体1观测器观测的加速度
sys(2+12)=x(2+12);%输出智能体2观测器观测的加速度
sys(3+12)=x(3+12);%输出智能体3观测器观测的加速度
sys(4+12)=x(4+12);%输出智能体4观测器观测的加速度
sys(5+12)=x(5+12);%输出智能体5观测器观测的加速度
sys(6+12)=x(6+12);%输出智能体6观测器观测的加速度







